<form>
  <mat-form-field>
    <mat-label>Enter a stock symbol</mat-label>
    <input name="stock" [(ngModel)]="symbol" matInput placeholder="Enter a stock symbol" value="GBPUSD=X">
  </mat-form-field>
  <mat-form-field>
    <mat-label>Enter from year</mat-label>
    <input name="fromYear" [(ngModel)]="fromYear" matInput placeholder="Enter from year" value="2009" type="number">
  </mat-form-field>
  <mat-form-field>
    <mat-label>Enter to year</mat-label>
    <input name="toYear" [(ngModel)]="toYear" matInput placeholder="Enter to year" value="2019" type="number">
  </mat-form-field>
</form>

<form>
  <mat-form-field appearance="fill">
    <mat-label>Choose an style</mat-label>
    <mat-select name="selectedValue" [(ngModel)]="selectedValue" value="bar">
      <mat-option value="bar">Bar</mat-option>
      <mat-option value="line">Line</mat-option>
    </mat-select>
  </mat-form-field>

  <section>
    <button (click)="getStockData(symbol, fromYear, toYear)" mat-raised-button color="primary">Get Data</button>
  </section>
</form>

<!-- <div style="width: 35%;">
  <mat-grid-list cols="3" rowHeight="2:1">

    <mat-grid-tile style="border: solid 0px; text-align: right;">First Grid</mat-grid-tile>
    <mat-grid-tile>Second Grid</mat-grid-tile>
    <mat-grid-tile>Third Grid</mat-grid-tile>
    <mat-grid-tile>Fourth Grid</mat-grid-tile>
    <mat-grid-tile>Fifth Grid</mat-grid-tile>
    <mat-grid-tile>Sixth Frid</mat-grid-tile>

  </mat-grid-list>
</div> -->
<!-- <app-bar-chart></app-bar-chart> -->
<mat-divider></mat-divider>
<!-- <div style="width: 35%;"> -->
<div>
  <app-line-chart *ngIf="seasonalityAvg.length > 0" [seasonalityAvg]="seasonalityAvg" [chartStyle]="selectedValue"></app-line-chart>
</div>
<div *ngIf="seasonalityAvg.length > 0">
  <h3>Seasonality Strength and Weakness by Month</h3>
  <table>
    <thead>
      <tr>
        <th>Jan</th>
        <th>Feb</th>
        <th>Mar</th>
        <th>Apr</th>
        <th>May</th>
        <th>Jun</th>
        <th>Jul</th>
        <th>Aug</th>
        <th>Sep</th>
        <th>Oct</th>
        <th>Nov</th>
        <th>Dec</th>
      </tr>
    </thead>
    <tbody>
      <td *ngFor="let item of seasonalityAvg">
        {{item.average | number: '1.2-2'}}
      </td>
    </tbody>
  </table>
</div>
<mat-divider></mat-divider>

<div *ngIf="seasonality.length > 0">
  <h3>Seasonality Strength and Weakness by Month</h3>
  <table>
    <thead>
      <tr>
        <th>Year</th>
        <th>Jan</th>
        <th>Feb</th>
        <th>Mar</th>
        <th>Apr</th>
        <th>May</th>
        <th>Jun</th>
        <th>Jul</th>
        <th>Aug</th>
        <th>Sep</th>
        <th>Oct</th>
        <th>Nov</th>
        <th>Dec</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of seasonality; let i=index">
        <td>{{item[0].year}}</td>
        <td *ngIf="item[i]">{{item[0].average | number: '1.2-2' }}</td>
        <td *ngIf="item[1]">{{item[1].average | number: '1.2-2' }}</td>
        <td *ngIf="item[2]">{{item[2].average | number: '1.2-2' }}</td>
        <td *ngIf="item[3]">{{item[3].average | number: '1.2-2' }}</td>
        <td *ngIf="item[4]">{{item[4].average | number: '1.2-2' }}</td>
        <td *ngIf="item[5]">{{item[5].average | number: '1.2-2' }}</td>
        <td *ngIf="item[6]">{{item[6].average | number: '1.2-2' }}</td>
        <td *ngIf="item[7]">{{item[7].average | number: '1.2-2' }}</td>
        <td *ngIf="item[8]">{{item[8].average | number: '1.2-2' }}</td>
        <td *ngIf="item[9]">{{item[9].average | number: '1.2-2' }}</td>
        <td *ngIf="item[10]">{{item[10].average | number: '1.2-2' }}</td>
        <td *ngIf="item[11]">{{item[11].average | number: '1.2-2' }}</td>
      </tr>
    </tbody>
  </table>

  <table *ngIf="seasonalityAvg && seasonalityAvg.length > 0" mat-table [dataSource]="seasonalityAvg"
    class="mat-elevation-z8">
    <ng-container matColumnDef="month">
      <th mat-header-cell *matHeaderCellDef> Month </th>
      <td mat-cell *matCellDef="let element"> {{ element.month }} </td>
    </ng-container>

    <ng-container matColumnDef="average">
      <th mat-header-cell *matHeaderCellDef> Average </th>
      <td mat-cell *matCellDef="let element"> {{ element.average }} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="['month', 'average']"></tr>
    <tr mat-row *matRowDef="let row; columns: ['month', 'average']"></tr>
  </table>

</div>